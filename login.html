<script type="module">
    import { supabase } from "./supabase.js";

    window.login = async () => {
        const email = document.getElementById("email").value;
        const senha = document.getElementById("senha").value;

        const { error } = await supabase.auth.signInWithPassword({
            email,
            password: senha
        });

        if (error) alert(error.message);
        else window.location.href = "index.html";
    };

    window.cadastrar = async () => {
        const email = document.getElementById("email").value;
        const senha = document.getElementById("senha").value;

        const { error } = await supabase.auth.signUp({
            email,
            password: senha
        });

        if (error) alert(error.message);
        else alert("Cadastro realizado!");
    };
</script>