<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Login - Planner</title>
</head>

<body>

    <h2>Planner Financeiro</h2>

    <input id="email" placeholder="Email"><br><br>
    <input id="senha" type="password" placeholder="Senha"><br><br>

    <button onclick="login()">Entrar</button>
    <button onclick="cadastrar()">Cadastrar</button>

    <script src="supabase.js"></script>
    <script>
        async function login() {
            const email = document.getElementById("email").value;
            const senha = document.getElementById("senha").value;

            const { error } = await supabase.auth.signInWithPassword({
                email,
                password: senha
            });

            if (error) alert(error.message);
            else window.location.href = "index.html";
        }

        async function cadastrar() {
            const email = document.getElementById("email").value;
            const senha = document.getElementById("senha").value;

            const { error } = await supabase.auth.signUp({
                email,
                password: senha
            });

            if (error) alert(error.message);
            else alert("Cadastro realizado! Fa√ßa login.");
        }
    </script>

</body>

</html>